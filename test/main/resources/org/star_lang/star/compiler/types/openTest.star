openTest is package{

  fun fox(S) is {
    prc doWork() do {
      logMsg(info,"did some work");
      S("sent from the fox");
    }
  }
  
  def bar is {
    open fox(sendMessage);
    
    sendMessage has type (string)=>()
    prc sendMessage(X) do logMsg(info,"Printed from the bar: #X");
    
    prc start() do {
      doWork();
      sendMessage("simple");
    }
  }
  
  prc main() do {
    bar.start();
  }
}